From 62b328bdf6f290208b0f77f74000a99d631130c0 Mon Sep 17 00:00:00 2001
From: Martin Siggel <martin.siggel@dlr.de>
Date: Wed, 24 Apr 2019 21:55:40 +0200
Subject: [PATCH] Make linking to dependencies private

---
 adm/cmake/BuildToolkit.cmake      | 2 +-
 adm/cmake/TKOpenGl/CMakeLists.txt | 4 ++++
 2 files changed, 5 insertions(+), 1 deletion(-)

diff --git adm/cmake/BuildToolkit.cmake adm/cmake/BuildToolkit.cmake
index 1b70df9..165a63e 100644
--- adm/cmake/BuildToolkit.cmake
+++ adm/cmake/BuildToolkit.cmake
@@ -244,7 +244,7 @@ endif()
 if ( NOT "${TOOLKIT}" STREQUAL "TKernel" )
 	list(REMOVE_DUPLICATES TOOLKIT_DEPENDS)
 endif ( NOT "${TOOLKIT}" STREQUAL "TKernel" )
-target_link_libraries(${TOOLKIT} ${TOOLKIT_DEPENDS} ${TOOLKIT_LIBS} ${WIN32_LIBS})
+target_link_libraries(${TOOLKIT} PUBLIC ${TOOLKIT_DEPENDS} PRIVATE ${TOOLKIT_LIBS} ${WIN32_LIBS})
 
 if(TOOLKIT_LIBS_OPTIMIZED)
 	foreach(lib ${TOOLKIT_LIBS_OPTIMIZED})
diff --git adm/cmake/TKOpenGl/CMakeLists.txt adm/cmake/TKOpenGl/CMakeLists.txt
index f355c09..98c5cd7 100644
--- adm/cmake/TKOpenGl/CMakeLists.txt
+++ adm/cmake/TKOpenGl/CMakeLists.txt
@@ -62,6 +62,10 @@ if(WIN32)
     list(APPEND TOOLKIT_LIBS vfw32)
 endif()
 
+if (APPLE AND OCE_OSX_USE_COCOA)
+	list(APPEND TOOLKIT_LIBS /System/Library/Frameworks/Cocoa.framework)
+endif(APPLE AND OCE_OSX_USE_COCOA)
+
 include(../BuildToolkit.cmake)
 
 if(BORLAND AND BORLAND_VERSION_RS_XE2)
-- 
2.9.3 (Apple Git-75)

